[{"content":"ã‚„ã‚ŠãŸã„ã“ã¨  é‹ç”¨ã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§æ™‚æŠ˜ã€CPUä½¿ç”¨ç‡ãŒ100%ã‚’è¶…éã—ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ã«ãªã‚‹ã€‚ Compute Engineï¼ˆGCEï¼‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å†èµ·å‹•ã™ã‚‹ã“ã¨ã§ä¸Šè¨˜äº‹è±¡ã¯ç›´ã‚‹ã®ã§ã€å¾©æ—§æ™‚é–“ã‚’çŸ­ãã™ã‚‹ãŸã‚ã«ã€é€šçŸ¥ã™ã‚‹ã“ã¨ã§ã§ãã‚‹ã ã‘æ—©ãæ°—ä»˜ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ é€šçŸ¥å…ˆã¨ã—ã¦ã€ã‚¹ãƒãƒ›ã‹ã‚‰æ‰‹è»½ã«è¦‹ã‚Œã¦Webhookã§æ¥½ã«è¨­å®šã§ãã‚‹Discordã‚’ä½¿ã£ã¦ã¿ã‚‹ã€‚ é€šçŸ¥ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¶…ã‚«ãƒ³ã‚¿ãƒ³ãªå›³ã§è¡¨ã™ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ï¼š   ã‚„ã£ãŸã“ã¨ é€šçŸ¥ãƒãƒªã‚·ãƒ¼ã®ä½œæˆï¼ˆGCPç®¡ç†ç”»é¢ï¼‰ GCEã®CPUä½¿ç”¨ç‡ãŒ95%ä»¥ä¸Šã®çŠ¶æ…‹ãŒä½•åˆ†é–“ä»¥ä¸Šç¶šã„ãŸã‚‰é€šçŸ¥ã™ã‚‹ã‹ã€ã¨ã„ã£ãŸæ¡ä»¶ã‚’GCPã®ç®¡ç†ç”»é¢ã‹ã‚‰è¨­å®šã™ã‚‹ã€‚ã“ã‚Œã¯GCEã®ç”»é¢ã®ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã®ã‚¿ãƒ–ã‹ã‚‰ç”»åƒã®ã‚ˆã†ã«è¨­å®šã€‚ é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã®ä½œæˆï¼ˆGCPç®¡ç†ç”»é¢ï¼‰ é€šçŸ¥ãƒãƒªã‚·ãƒ¼ã¨ä¼¼ãŸåå‰ã ãŒã“ã¡ã‚‰ã¯é€šçŸ¥å…ˆã‚’è¨­å®šã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã€‚ç”»åƒã®é€šã‚ŠSlackã‚„Webhookã€ï¼ˆè¦‹ãˆã¦ãªã„ã‘ã©ï¼‰SMSã‚„Emailã®è¨­å®šãŒå¯èƒ½ã€‚ä»Šå›ã¯Discordã«é€šçŸ¥ã—ãŸã‹ã£ãŸã®ã§é€šçŸ¥ã—ãŸã„Discordãƒãƒ£ãƒ³ãƒãƒ«ã®Webhook URLã‚’è¨­å®šã€‚ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ä¸Šè¨˜ã®è¨­å®šã‚’çµ‚ãˆãŸã¨ã“ã‚ã§ã€é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã‹ã‚‰ã€ŒTEST CONNECTIONã€ãŒã‚ã£ãŸã®ã§è©¦ã—ã«å®Ÿè¡Œã€‚ ã€Œsuccessfully sentã€ã¨å‡ºã¦ã„ã‚‹ãŒDiscordãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¦‹ã‚‹ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã„ã¦ãªã„ã€‚ã€‚\nGCPå´ã®ãƒ­ã‚°ç¢ºèª Cloud Logging ã§ ç¢ºèªã—ãŸã¨ã“ã‚ã€åŒã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§400ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª ğŸ˜‡ curlã§é€ã£ã¦ã¿ã‚‹ ä»¶ã®Discordã«curlã§è©¦ã—ã«POSTã‚’ã—ã¦ã¿ãŸã¨ã“ã‚ã€\n$ curl -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{\u0026#34;data\u0026#34;: \u0026#34;Hello World\u0026#34;}\u0026#39; https://discord.com/api/webhooks/{YOUR_PATH} {\u0026#34;message\u0026#34;: \u0026#34;Cannot send an empty message\u0026#34;, \u0026#34;code\u0026#34;: 50006} ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ããŸã€‚status codeã‚’èª¿ã¹ã‚‹ã¨400ãªã®ã§GCPã¨åŒã˜ã‚¨ãƒ©ãƒ¼ã£ã½ã„ã€‚\nå¾®ä¿®æ­£ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªPOSTã‚’ã—ãŸã¨ã“ã‚é€šçŸ¥ãŒæˆåŠŸã€‚\n$ curl -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{\u0026#34;content\u0026#34;: \u0026#34;Hello World\u0026#34;}\u0026#39; https://discord.com/api/webhooks/{YOUR_PATH} ã©ã†ã‚„ã‚‰discordã§ã¯JSONã®payloadã«è¨­å®šã™ã‚‹ key ãŒ \u0026ldquo;content\u0026rdquo; ã˜ã‚ƒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹æ¨¡æ§˜ã€‚ãªã®ã§GCPã§ã¯ãŠãã‚‰ãã€contentä»¥å¤–ã® keyåã‚’è¨­å®šã—ã¦ã„ã¦ã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ãã¦ã„ã‚‹ï¼Ÿ\næœ€çµ‚çš„ã«Cloud Function ã§å®Ÿè£… ä»¥ä¸Šã®ã‚ˆã†ãªçµŒç·¯ã§Webhookã§å˜ç´”ã«é€ã‚‹ã“ã¨ã¯ã§ããªã‹ã£ãŸãŸã‚ã€åŒã˜ã‚ˆã†ãªäººãŒã„ãªã„ã‹èª¿ã¹ãŸã¨ã“ã‚ Cloud Functions ã§è‡ªå‰ã§ä½œã‚‹ã®ãŒè‰¯ã„ã¨ã®ã“ã¨ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªæ‰‹é †ã§Cloud Functionsã§å®Ÿè£…ã‚’è©¦ã—ã¦ã¿ãŸã€‚\n Cloud Pub/Subã®ãƒˆãƒ”ãƒƒã‚¯ã‚’ä½œæˆ é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã§é€šçŸ¥å…ˆã« Cloud Pub/Sub -\u0026gt; ä¸Šè¨˜ãƒˆãƒ”ãƒƒã‚¯ã‚’é¸æŠ Cloud Functionsã‚’ä½œæˆ  ãƒˆãƒªã‚¬ãƒ¼ã®ã‚¿ã‚¤ãƒ—ï¼šCloud Pub/Sub ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼šNodejs ã‚½ãƒ¼ã‚¹ã¯ä»¥ä¸‹ã®é€šã‚Š    const { IncomingWebhook } = require(\u0026#39;@slack/webhook\u0026#39;); /** * Triggered from a message on a Cloud Pub/Sub topic. * * @param {!Object} event Event payload. * @param {!Object} context Metadata for the event. */ exports.notify = (event, context) =\u0026gt; { const message = event.data ? Buffer.from(event.data, \u0026#39;base64\u0026#39;).toString() : \u0026#39;Hello, World\u0026#39;; console.log(message); const body = { \u0026#34;content\u0026#34;: message }; // discordã«é€šçŸ¥ const webhook = new IncomingWebhook(\u0026#39;https://discord.com/api/webhooks/{YOUR_PATH}\u0026#39;); //await webhook.send(body); webhook.send(body); return \u0026#39;Discord notification sent successfully\u0026#39;; }; package.json\n{ \u0026#34;name\u0026#34;: \u0026#34;sample-pubsub\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.1\u0026#34;, \u0026#34;dependencies\u0026#34;: { \u0026#34;@google-cloud/pubsub\u0026#34;: \u0026#34;^0.18.0\u0026#34;, \u0026#34;@slack/webhook\u0026#34;: \u0026#34;^6.1.0\u0026#34; } } ã“ã®Functionã‚’Deployã—ã¦ã€å†åº¦ãƒ†ã‚¹ãƒˆã—ãŸã¨ã“ã‚ç„¡äº‹ã«é€ä¿¡ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª ","permalink":"https://ny1030.github.io/pages/posts/engineering/gcp%E3%81%AE%E3%82%A2%E3%83%A9%E3%83%BC%E3%83%88%E6%83%85%E5%A0%B1%E3%82%92discord%E3%81%AB%E9%80%9A%E7%9F%A5%E3%81%99%E3%82%8B/","summary":"ã‚„ã‚ŠãŸã„ã“ã¨  é‹ç”¨ã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§æ™‚æŠ˜ã€CPUä½¿ç”¨ç‡ãŒ100%ã‚’è¶…éã—ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ã«ãªã‚‹ã€‚ Compute Engineï¼ˆGCEï¼‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å†èµ·å‹•ã™ã‚‹ã“ã¨ã§ä¸Šè¨˜äº‹è±¡ã¯ç›´ã‚‹ã®ã§ã€å¾©æ—§æ™‚é–“ã‚’çŸ­ãã™ã‚‹ãŸã‚ã«ã€é€šçŸ¥ã™ã‚‹ã“ã¨ã§ã§ãã‚‹ã ã‘æ—©ãæ°—ä»˜ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ é€šçŸ¥å…ˆã¨ã—ã¦ã€ã‚¹ãƒãƒ›ã‹ã‚‰æ‰‹è»½ã«è¦‹ã‚Œã¦Webhookã§æ¥½ã«è¨­å®šã§ãã‚‹Discordã‚’ä½¿ã£ã¦ã¿ã‚‹ã€‚ é€šçŸ¥ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¶…ã‚«ãƒ³ã‚¿ãƒ³ãªå›³ã§è¡¨ã™ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢ï¼š   ã‚„ã£ãŸã“ã¨ é€šçŸ¥ãƒãƒªã‚·ãƒ¼ã®ä½œæˆï¼ˆGCPç®¡ç†ç”»é¢ï¼‰ GCEã®CPUä½¿ç”¨ç‡ãŒ95%ä»¥ä¸Šã®çŠ¶æ…‹ãŒä½•åˆ†é–“ä»¥ä¸Šç¶šã„ãŸã‚‰é€šçŸ¥ã™ã‚‹ã‹ã€ã¨ã„ã£ãŸæ¡ä»¶ã‚’GCPã®ç®¡ç†ç”»é¢ã‹ã‚‰è¨­å®šã™ã‚‹ã€‚ã“ã‚Œã¯GCEã®ç”»é¢ã®ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ã®ã‚¿ãƒ–ã‹ã‚‰ç”»åƒã®ã‚ˆã†ã«è¨­å®šã€‚ é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã®ä½œæˆï¼ˆGCPç®¡ç†ç”»é¢ï¼‰ é€šçŸ¥ãƒãƒªã‚·ãƒ¼ã¨ä¼¼ãŸåå‰ã ãŒã“ã¡ã‚‰ã¯é€šçŸ¥å…ˆã‚’è¨­å®šã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã€‚ç”»åƒã®é€šã‚ŠSlackã‚„Webhookã€ï¼ˆè¦‹ãˆã¦ãªã„ã‘ã©ï¼‰SMSã‚„Emailã®è¨­å®šãŒå¯èƒ½ã€‚ä»Šå›ã¯Discordã«é€šçŸ¥ã—ãŸã‹ã£ãŸã®ã§é€šçŸ¥ã—ãŸã„Discordãƒãƒ£ãƒ³ãƒãƒ«ã®Webhook URLã‚’è¨­å®šã€‚ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ä¸Šè¨˜ã®è¨­å®šã‚’çµ‚ãˆãŸã¨ã“ã‚ã§ã€é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã‹ã‚‰ã€ŒTEST CONNECTIONã€ãŒã‚ã£ãŸã®ã§è©¦ã—ã«å®Ÿè¡Œã€‚ ã€Œsuccessfully sentã€ã¨å‡ºã¦ã„ã‚‹ãŒDiscordãƒãƒ£ãƒ³ãƒãƒ«ã‚’è¦‹ã‚‹ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã„ã¦ãªã„ã€‚ã€‚\nGCPå´ã®ãƒ­ã‚°ç¢ºèª Cloud Logging ã§ ç¢ºèªã—ãŸã¨ã“ã‚ã€åŒã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§400ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª ğŸ˜‡ curlã§é€ã£ã¦ã¿ã‚‹ ä»¶ã®Discordã«curlã§è©¦ã—ã«POSTã‚’ã—ã¦ã¿ãŸã¨ã“ã‚ã€\n$ curl -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{\u0026#34;data\u0026#34;: \u0026#34;Hello World\u0026#34;}\u0026#39; https://discord.com/api/webhooks/{YOUR_PATH} {\u0026#34;message\u0026#34;: \u0026#34;Cannot send an empty message\u0026#34;, \u0026#34;code\u0026#34;: 50006} ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ããŸã€‚status codeã‚’èª¿ã¹ã‚‹ã¨400ãªã®ã§GCPã¨åŒã˜ã‚¨ãƒ©ãƒ¼ã£ã½ã„ã€‚\nå¾®ä¿®æ­£ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªPOSTã‚’ã—ãŸã¨ã“ã‚é€šçŸ¥ãŒæˆåŠŸã€‚\n$ curl -H \u0026#39;Content-Type: application/json\u0026#39; -d \u0026#39;{\u0026#34;content\u0026#34;: \u0026#34;Hello World\u0026#34;}\u0026#39; https://discord.com/api/webhooks/{YOUR_PATH} ã©ã†ã‚„ã‚‰discordã§ã¯JSONã®payloadã«è¨­å®šã™ã‚‹ key ãŒ \u0026ldquo;content\u0026rdquo; ã˜ã‚ƒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹æ¨¡æ§˜ã€‚ãªã®ã§GCPã§ã¯ãŠãã‚‰ãã€contentä»¥å¤–ã® keyåã‚’è¨­å®šã—ã¦ã„ã¦ã‚¨ãƒ©ãƒ¼ãŒè¿”ã£ã¦ãã¦ã„ã‚‹ï¼Ÿ\næœ€çµ‚çš„ã«Cloud Function ã§å®Ÿè£… ä»¥ä¸Šã®ã‚ˆã†ãªçµŒç·¯ã§Webhookã§å˜ç´”ã«é€ã‚‹ã“ã¨ã¯ã§ããªã‹ã£ãŸãŸã‚ã€åŒã˜ã‚ˆã†ãªäººãŒã„ãªã„ã‹èª¿ã¹ãŸã¨ã“ã‚ Cloud Functions ã§è‡ªå‰ã§ä½œã‚‹ã®ãŒè‰¯ã„ã¨ã®ã“ã¨ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªæ‰‹é †ã§Cloud Functionsã§å®Ÿè£…ã‚’è©¦ã—ã¦ã¿ãŸã€‚","title":"GCPã®ã‚¢ãƒ©ãƒ¼ãƒˆæƒ…å ±ã‚’Discordã«é€šçŸ¥ã™ã‚‹"},{"content":"ã“ã¡ã‚‰\n","permalink":"https://ny1030.github.io/pages/posts/engineering/webhook%E3%81%AE%E7%96%8E%E9%80%9A%E3%83%86%E3%82%B9%E3%83%88/","summary":"ã“ã¡ã‚‰","title":"Webhookã®ç–é€šãƒ†ã‚¹ãƒˆ"},{"content":"from __future__ import print_function import pickle import os.path from googleapiclient.discovery import build from google_auth_oauthlib.flow import InstalledAppFlow from google.auth.transport.requests import Request # If modifying these scopes, delete the file token.pickle. SCOPES = [\u0026#39;https://www.googleapis.com/auth/drive.metadata.readonly\u0026#39;] def main(): \u0026#34;\u0026#34;\u0026#34;Shows basic usage of the Drive v3 API. Prints the names and ids of the first 10 files the user has access to. \u0026#34;\u0026#34;\u0026#34; creds = None # The file token.pickle stores the user\u0026#39;s access and refresh tokens, and is # created automatically when the authorization flow completes for the first # time. if os.path.exists(\u0026#39;token.pickle\u0026#39;): with open(\u0026#39;token.pickle\u0026#39;, \u0026#39;rb\u0026#39;) as token: creds = pickle.load(token) # If there are no (valid) credentials available, let the user log in. if not creds or not creds.valid: if creds and creds.expired and creds.refresh_token: creds.refresh(Request()) else: flow = InstalledAppFlow.from_client_secrets_file( \u0026#39;credentials.json\u0026#39;, SCOPES) creds = flow.run_local_server(port=0) # Save the credentials for the next run with open(\u0026#39;token.pickle\u0026#39;, \u0026#39;wb\u0026#39;) as token: pickle.dump(creds, token) service = build(\u0026#39;drive\u0026#39;, \u0026#39;v3\u0026#39;, credentials=creds) # Call the Drive v3 API results = service.files().list( pageSize=10, fields=\u0026#34;nextPageToken, files(id, name)\u0026#34;).execute() items = results.get(\u0026#39;files\u0026#39;, []) if not items: print(\u0026#39;No files found.\u0026#39;) else: print(\u0026#39;Files:\u0026#39;) for item in items: print(u\u0026#39;{0} ({1})\u0026#39;.format(item[\u0026#39;name\u0026#39;], item[\u0026#39;id\u0026#39;])) if __name__ == \u0026#39;__main__\u0026#39;: main() å‚è€ƒã‚µã‚¤ãƒˆ\n","permalink":"https://ny1030.github.io/pages/posts/engineering/google-drive%E3%81%AB%E3%81%82%E3%82%8B%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92ocr%E3%81%99%E3%82%8Bpython%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88/","summary":"from __future__ import print_function import pickle import os.path from googleapiclient.discovery import build from google_auth_oauthlib.flow import InstalledAppFlow from google.auth.transport.requests import Request # If modifying these scopes, delete the file token.pickle. SCOPES = [\u0026#39;https://www.googleapis.com/auth/drive.metadata.readonly\u0026#39;] def main(): \u0026#34;\u0026#34;\u0026#34;Shows basic usage of the Drive v3 API. Prints the names and ids of the first 10 files the user has access to. \u0026#34;\u0026#34;\u0026#34; creds = None # The file token.pickle stores the user\u0026#39;s access and refresh tokens, and is # created automatically when the authorization flow completes for the first # time.","title":"Google Driveã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’OCRã™ã‚‹Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆ"},{"content":"freeã‚³ãƒãƒ³ãƒ‰  total : åˆè¨ˆ used : ã‚«ãƒ¼ãƒãƒ«ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒä½¿ç”¨ã—ã¦ã„ã‚‹ shared : tmpfsã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ free : ä½™ã£ã¦ã„ã‚‹ buffers : ãƒãƒƒãƒ•ã‚¡ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚º cache : ãƒšãƒ¼ã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚º available : å®Ÿè³ªçš„ãªç©ºããƒ¡ãƒ¢ãƒª  free + buff/cache (è§£æ”¾å¯èƒ½ãªéƒ¨åˆ†)     sar ã‚³ãƒãƒ³ãƒ‰ ç‰©ç†ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹ = buffers, cacheãŒå«ã¾ã‚ŒãŸä½¿ç”¨é‡ sar -r ã§ãƒ¡ãƒ¢ãƒªä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ - ablog\n","permalink":"https://ny1030.github.io/pages/posts/engineering/linux-%E3%83%A1%E3%83%A2%E3%83%AA%E4%BD%BF%E7%94%A8%E7%8E%87%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/","summary":"freeã‚³ãƒãƒ³ãƒ‰  total : åˆè¨ˆ used : ã‚«ãƒ¼ãƒãƒ«ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒä½¿ç”¨ã—ã¦ã„ã‚‹ shared : tmpfsã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ free : ä½™ã£ã¦ã„ã‚‹ buffers : ãƒãƒƒãƒ•ã‚¡ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚º cache : ãƒšãƒ¼ã‚¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚º available : å®Ÿè³ªçš„ãªç©ºããƒ¡ãƒ¢ãƒª  free + buff/cache (è§£æ”¾å¯èƒ½ãªéƒ¨åˆ†)     sar ã‚³ãƒãƒ³ãƒ‰ ç‰©ç†ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒè¡¨ç¤ºã•ã‚Œã‚‹ = buffers, cacheãŒå«ã¾ã‚ŒãŸä½¿ç”¨é‡ sar -r ã§ãƒ¡ãƒ¢ãƒªä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ - ablog","title":"Linux - ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡ã«ã¤ã„ã¦"},{"content":"ã“ã“ã§ã¯ãªãgistã«è¨˜è¼‰\n","permalink":"https://ny1030.github.io/pages/posts/engineering/commandsnipet%E3%83%A1%E3%83%A2/","summary":"ã“ã“ã§ã¯ãªãgistã«è¨˜è¼‰","title":"Command(Snipet)ãƒ¡ãƒ¢"},{"content":"Level 0 å®Ÿè¡Œè¨ˆç”»(Query Plan)ã®èª­ã¿æ–¹ ä»¥ä¸‹ã®ã‚ˆã†ãªSQLã®å®Ÿè¡Œè¨ˆç”»ã‚’å–å¾—ã—ã¦ã¿ã‚‹ã€‚\n UPDATE T_ITEM_INBOUND t3 SET status_flag = \u0026#39;9\u0026#39; , updated_datetime = CURRENT_TIMESTAMP , updated_by = \u0026#39;APP_001\u0026#39; FROM ( SELECT t1.group_num , t1.level3_item_code FROM T_ITEM_INBOUND t1 WHERE t1.status_flag = \u0026#39;1\u0026#39; AND t1.group_num = \u0026#39;10\u0026#39; AND t1.level3_item_code = \u0026#39;1000-2000-3000\u0026#39; GROUP BY t1.group_num , t1.level1_item_code , t1.level2_item_code , t1.level3_item_code , t1.color_code , t1.size_code , t1.pattern_length_code HAVING 1 \u0026lt; COUNT(t1.group_num) ) t2 WHERE t3.status_flag = \u0026#39;1\u0026#39; AND t3.group_num = t2.group_num AND t3.level3_item_code = t2.level3_item_code AND t3.brand_code = \u0026#39;TK\u0026#39; AND t3.region_code = \u0026#39;JP\u0026#39; ä¸Šè¨˜ã‚¯ã‚¨ãƒªã®å…ˆé ­ã« EXPLAIN ANALYZE ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ä»˜ä¸â†’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œè¨ˆç”»ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚\n Update on T_ITEM_INBOUND t3 (cost=19152.43..40432.82 rows=1 width=299) (actual time=65.760..65.760 rows=0 loops=1) -\u0026gt; Hash Join (cost=19152.43..40432.82 rows=1 width=299) (actual time=65.758..65.758 rows=0 loops=1) Hash Cond: (((t3.group_num)::text = (t2.group_num)::text) AND (t3.level3_item_code = t2.level3_item_code)) -\u0026gt; Seq Scan on T_ITEM_INBOUND t3 (cost=0.00..19152.36 rows=283735 width=150) (actual time=4.019..4.019 rows=1 loops=1) Filter: (((status_flag)::text = \u0026#39;1\u0026#39;::text) AND (brand_code = \u0026#39;TK\u0026#39;::text) AND (region_code = \u0026#39;JP\u0026#39;::text)) Rows Removed by Filter: 11 -\u0026gt; Hash (cost=19152.42..19152.42 rows=1 width=62) (actual time=61.731..61.731 rows=0 loops=1) Buckets: 1024 Batches: 1 Memory Usage: 8kB -\u0026gt; Subquery Scan on t2 (cost=19152.37..19152.42 rows=1 width=62) (actual time=61.730..61.730 rows=0 loops=1) -\u0026gt; GroupAggregate (cost=19152.37..19152.41 rows=1 width=55) (actual time=61.730..61.730 rows=0 loops=1) Group Key: t1.group_num, t1.level1_item_code, t1.level2_item_code, t1.level3_item_code, t1.color_code, t1.size_code, t1.pattern_length_code Filter: (1 \u0026lt; count(t1.group_num)) Rows Removed by Filter: 1 -\u0026gt; Sort (cost=19152.37..19152.38 rows=1 width=55) (actual time=61.724..61.724 rows=1 loops=1) Sort Key: t1.level1_item_code, t1.level2_item_code, t1.color_code, t1.size_code, t1.pattern_length_code Sort Method: quicksort Memory: 25kB -\u0026gt; Seq Scan on T_ITEM_INBOUND t1 (cost=0.00..19152.36 rows=1 width=55) (actual time=21.804..61.714 rows=1 loops=1) Filter: (((status_flag)::text = \u0026#39;1\u0026#39;::text) AND ((group_num)::text = \u0026#39;10\u0026#39;::text) AND (l3_item_code = \u0026#39;1000-2000-3000\u0026#39;::text)) Rows Removed by Filter: 283734 å…¨ã¦ã‚’èª¬æ˜ã™ã‚‹ã®ã¯é•·ããªã‚‹ã®ã§è¦ç‚¹ã ã‘ã€‚\nã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯å‡¦ç†ã®é †ç•ªã‚’è¡¨ã™  å‡¦ç†ã‚’è¡Œã†å˜ä½ï¼ˆ=å®Ÿè¡Œè¨ˆç”»ã®å„ãƒ¬ã‚³ãƒ¼ãƒ‰ï¼‰ãƒãƒ¼ãƒ‰ã¨å‘¼ã¶ã€‚ ãƒãƒ¼ãƒ‰ã¯ãƒ„ãƒªãƒ¼æ§‹é€ ã§è¡¨ç¾ã•ã‚Œã‚‹ã€‚æœ€ä¸‹å±¤ã®ãƒãƒ¼ãƒ‰ï¼ˆ=ãƒªãƒ¼ãƒ•ãƒãƒ¼ãƒ‰ï¼‰ã¯å¿…ãšãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ãƒãƒ¼ãƒ‰ã¨ãªã‚‹ã€‚ æœ€ä¸‹å±¤ï¼ˆ=ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒæ·±ã„ï¼‰ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰é †ã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ æœ€ä¸‹å±¤ãƒãƒ¼ãƒ‰ã®è¦ªã¯çµåˆãƒãƒ¼ãƒ‰ã§ã•ã‚‰ã«ãã®è¦ªã¯ãã®ä»–ã®ãƒãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã‚‹ã€‚  ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ãƒãƒ¼ãƒ‰ ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šå‡ºã™å½¹å‰²ã€‚ä»£è¡¨çš„ãªã‚¹ã‚­ãƒ£ãƒ³æ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\n Seq Scan: ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã‚’é †ç•ªã«ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ Index Scan: ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã¿ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€å®Ÿãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã‚¹ã‚­ãƒ£ãƒ³ã—ãªã„  ä»Šå›ã®ä¾‹ã§ã¯ Seq Scan ãŒä½¿ã‚ã‚Œã„ã¦ã„ã‚‹ã€‚\nçµåˆç³»ãƒãƒ¼ãƒ‰ è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’çµåˆã™ã‚‹å½¹å‰²ã®ãƒãƒ¼ãƒ‰ã§ã™ã€‚ä»£è¡¨çš„ãªçµåˆæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\n Nested Loop: å¤–å´ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¡Œæ¯ã«å†…å´ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã™ã¹ã¦ã®è¡Œã‚’çªãåˆã‚ã›çµåˆã™ã‚‹ Hash Join: å†…å´ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆã‚­ãƒ¼ã§ãƒãƒƒã‚·ãƒ¥ã‚’ä½œæˆã—ã€ãƒãƒƒã‚·ãƒ¥ã¨å¤–å´ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆã‚­ãƒ¼ã§ä¸€è‡´ã™ã‚‹è¡Œã‚’çµåˆã™ã‚‹  å‡¦ç†ã‚³ã‚¹ãƒˆ å®Ÿè¡Œè¨ˆç”»ã®å„ãƒãƒ¼ãƒ‰ã«ã¯ã€å§‹å‹•ã‚³ã‚¹ãƒˆã¨ç·ã‚³ã‚¹ãƒˆã€è¡Œæ•°ã¨è¡Œã®é•·ã•ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚\n å§‹å‹•ã‚³ã‚¹ãƒˆ: ä¸€ä»¶ç›®ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ã®ã«ã‹ã‹ã‚‹æƒ³å®šã®ã‚³ã‚¹ãƒˆã‚’è¡¨ã™( .. ã®å‰) ç·ã‚³ã‚¹ãƒˆ: å‡¦ç†å®Œäº†ã¾ã§ã«ã‹ã‹ã‚‹æƒ³å®šã®ã‚³ã‚¹ãƒˆã‚’è¡¨ã™( .. ã®å¾Œ) è¡Œæ•°ï¼š ãƒãƒ¼ãƒ‰å®Ÿè¡Œã«ã‚ˆã£ã¦è¿”å´ã•ã‚Œã‚‹è¡Œæ•°ã‚’è¡¨ã™( rows ) è¡Œã®é•·ã•ï¼š ãƒãƒ¼ãƒ‰ã®å®Ÿè¡Œã«ã‚ˆã£ã¦è¿”å´ã•ã‚Œã‚‹è¡Œã®å¹³å‡ã®é•·ã•ã‚’è¡¨ã™( width )  important  EXPLAIN ã®ã¿ã‚’ã¤ã‘ã¦å®Ÿè¡Œè¨ˆç”»ã‚’å–å¾—ã™ã‚‹ã¨ã€ãƒ—ãƒ©ãƒ³ãƒŠã«ã‚ˆã£ã¦è¦‹ç©ã‚‚ã‚‰ã‚ŒãŸã‚³ã‚¹ãƒˆã¨ãªã‚‹ã€‚ EXPLAIN ANALYZE ã‚’ã¤ã‘ã¦å®Ÿè¡Œè¨ˆç”»ã‚’å–å¾—ã™ã‚‹ã¨ã€å®Ÿéš›ã«å®Ÿè¡Œã—ã¦å¾—ã‚‰ã‚ŒãŸçµæœã¨ãªã‚‹ã€‚( actual ä»¥é™ã®æƒ…å ±ãŒãã‚Œ)  ãªã®ã§ã€ cost ã¨ actual ã® rows ãŒå¤§ãããšã‚Œã¦ã„ã‚‹å ´åˆã¯çµ±è¨ˆæƒ…å ±ãŒå¤ã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\nLevel 1 Indexåˆ©ç”¨ã«ã‚ˆã‚‹é«˜é€ŸåŒ– Level 2 éƒ¨åˆ†Indexã®åˆ©ç”¨ ","permalink":"https://ny1030.github.io/pages/posts/engineering/sql%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%81%E3%83%A5%E3%83%BC%E3%83%8B%E3%83%B3%E3%82%B0/","summary":"Level 0 å®Ÿè¡Œè¨ˆç”»(Query Plan)ã®èª­ã¿æ–¹ ä»¥ä¸‹ã®ã‚ˆã†ãªSQLã®å®Ÿè¡Œè¨ˆç”»ã‚’å–å¾—ã—ã¦ã¿ã‚‹ã€‚\n UPDATE T_ITEM_INBOUND t3 SET status_flag = \u0026#39;9\u0026#39; , updated_datetime = CURRENT_TIMESTAMP , updated_by = \u0026#39;APP_001\u0026#39; FROM ( SELECT t1.group_num , t1.level3_item_code FROM T_ITEM_INBOUND t1 WHERE t1.status_flag = \u0026#39;1\u0026#39; AND t1.group_num = \u0026#39;10\u0026#39; AND t1.level3_item_code = \u0026#39;1000-2000-3000\u0026#39; GROUP BY t1.group_num , t1.level1_item_code , t1.level2_item_code , t1.level3_item_code , t1.color_code , t1.size_code , t1.pattern_length_code HAVING 1 \u0026lt; COUNT(t1.group_num) ) t2 WHERE t3.status_flag = \u0026#39;1\u0026#39; AND t3.group_num = t2.","title":"SQLãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°"},{"content":"ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹• bitnami drupal ã®å ´åˆ sudo /opt/bitnami/ctlscript.sh restart ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— â€»ã‚¹ãƒšãƒƒã‚¯ä½ã™ãã‚‹ã¨å¤±æ•—ã™ã‚‹ã®ã§ã€4ã‚³ã‚¢8GBã«äº‹å‰ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã—ãŸ\n ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª  composer outdated \u0026quot;drupal/*\u0026quot;\n druplaã®rootãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ  sudo composer update drupal/core \u0026quot;drupal/core-*\u0026quot; --with-all-dependencies sudo composer update drupal/core --with-dependencies\nå‚è€ƒ\nhousekeeping(ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤) drush -y wd-del all\n","permalink":"https://ny1030.github.io/pages/posts/engineering/drupal%E9%96%A2%E9%80%A3%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89/","summary":"ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹• bitnami drupal ã®å ´åˆ sudo /opt/bitnami/ctlscript.sh restart ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ— â€»ã‚¹ãƒšãƒƒã‚¯ä½ã™ãã‚‹ã¨å¤±æ•—ã™ã‚‹ã®ã§ã€4ã‚³ã‚¢8GBã«äº‹å‰ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã—ãŸ\n ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª  composer outdated \u0026quot;drupal/*\u0026quot;\n druplaã®rootãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ  sudo composer update drupal/core \u0026quot;drupal/core-*\u0026quot; --with-all-dependencies sudo composer update drupal/core --with-dependencies\nå‚è€ƒ\nhousekeeping(ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤) drush -y wd-del all","title":"Drupalé–¢é€£ã®ã‚³ãƒãƒ³ãƒ‰"},{"content":"â€» OSã¯ Ubuntu 20.04(LTS) ã‚’ä½¿ç”¨\n ã¾ãšã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å¤‰æ›´ï¼ˆãƒŸãƒ‹ãƒãƒ«ãªå†…å®¹ã«ã™ã‚‹ï¼‰  #1.ã¾ãšã¯ç¾åœ¨ã®è¨­å®šç¢ºèª user@DESKTOP-XXXXX:~$ **echo $PS1** \\\\[\\\\e]0;\\\\u@\\\\h: \\\\w\\\\a\\\\]${debian_chroot:+($debian_chroot)}\\\\[\\\\033[01;32m\\\\]\\\\u@\\\\h\\\\[\\\\033[00m\\\\]:\\\\[\\\\033[01;34m\\\\]\\\\w\\\\[\\\\033[00m\\\\]\\\\$ #2.PS1ã®å€¤ã‚’æ›¸ãæ›ãˆ user@DESKTOP-XXXXX:~$ **PS1=\u0026#39;\\\\[\\\\e[1;32m\\\\]\\\\W\\\\$ \\\\[\\\\e[m\\\\]\u0026#39;** ~$ #3.è¨­å®šå†…å®¹ã‚’æ°¸ç¶šåŒ– ~$ **echo \u0026#34;PS1=\u0026#39;\\\\[\\\\e[1;32m\\\\]\\\\W\\\\$ \\\\[\\\\e[m\\\\]\u0026#39;\u0026#34; \u0026gt;\u0026gt; .bashrc** #4.ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¦ã€è¨­å®šãŒæ°¸ç¶šåŒ–ã•ã‚Œã¦ã‚‹ã“ã¨ç¢ºèª ~$  systemd ã‚’ PID1ï¼ˆè¦ªãƒ—ãƒ­ã‚»ã‚¹ï¼‰ã«ã™ã‚‹  #1.ç¾çŠ¶ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª ~$ ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.0 896 528 ? Sl 16:13 0:00 /init root 120 0.0 0.0 896 84 ? Ss 16:19 0:00 /init #2.dotnet-runtime-5.0ãªã©ã®ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« wget \u0026lt;https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb\u0026gt; -O packages-microsoft-prod.deb sudo dpkg -i packages-microsoft-prod.deb rm packages-microsoft-prod.deb sudo apt-get update; \\\\ sudo apt-get install -y apt-transport-https \u0026amp;\u0026amp; \\\\ sudo apt-get update \u0026amp;\u0026amp; \\\\ sudo apt-get install -y aspnetcore-runtime-5.0 sudo apt install -y daemonize dbus gawk libc6 libstdc++6 policykit-1 systemd systemd-container sudo -s apt install apt-transport-https wget -O /etc/apt/trusted.gpg.d/wsl-transdebian.gpg \u0026lt;https://arkane-systems.github.io/wsl-transdebian/apt/wsl-transdebian.gpg\u0026gt; chmod a+r /etc/apt/trusted.gpg.d/wsl-transdebian.gpg cat \u0026lt;\u0026lt; EOF \u0026gt; /etc/apt/sources.list.d/wsl-transdebian.list deb \u0026lt;https://arkane-systems.github.io/wsl-transdebian/apt/\u0026gt; $(lsb_release -cs) main deb-src \u0026lt;https://arkane-systems.github.io/wsl-transdebian/apt/\u0026gt; $(lsb_release -cs) main EOF apt update #3.genieã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« sudo apt install -y systemd-genie #4.genieã‚’å®Ÿè¡Œ genie -s #5.ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ #5-1.systemd-remount-fs.serviceã®ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ dfã§ãƒ«ãƒ¼ãƒˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç¢ºèªâ†’/dev/sdb sudo e2label /dev/sdb cloudimg-rootfs #5-2.multipathd.socketã®ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ sudo systemctl disable multipathd.socket #5-3.ssh.serviceã®ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ sudo ssh-keygen -A #6.bashrcã«è¨­å®šè¨˜å…¥ # Are we in the bottle? if [[ ! -v INSIDE_GENIE ]]; then echo \u0026#34;Starting genie:\u0026#34; exec /usr/bin/genie -s fi #7.Ubuntuå†èµ·å‹•å¾Œã«PID1ã‚’ç¢ºèª ~$ ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.2 0.1 175028 13128 ? Ss 21:40 0:01 systemd root 50 0.0 0.1 51456 15596 ? S\u0026lt;s 21:40 0:00 /lib/systemd/systemd-journald root 72 0.0 0.0 19564 5228 ? Ss 21:40 0:00 /lib/systemd/systemd-udevd è£œè¶³ï¼šsystemdã‚’PID1ã«ã—ãªã„ã¨ã€systemctlã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹\nSystem has not been booted with systemd as init system (PID 1). Can\u0026#39;t operate. Failed to connect to bus: Host is down  Windowsã®PATHã‚’å¼•ãç¶™ãŒãªã„ã‚ˆã†ã«è¨­å®š  1. è¨­å®šã®è¿½åŠ  sudo vi /etc/wsl.conf -- # Windowsã®PATHã‚’å¼•ãç¶™ãŒãªã„è¨­å®šã‚’è¿½è¨˜ã™ã‚‹ [interop] appendWindowsPath = false 2. Widnowsã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰å†èµ·å‹• -- wsl.exe --shutdown  Golangã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  # 1. Goã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ~$ wget \u0026lt;https://go.dev/dl/go1.17.7.linux-amd64.tar.gz\u0026gt; # 2. å±•é–‹ ~$ sudo tar -C /usr/local -xzf go1.17.7.linux-amd64.tar.gz # 3. PATHã«è¿½åŠ ãƒ»åæ˜  ~$ echo \u0026#34;PATH=$PATH:/usr/local/go/bin\u0026#34; \u0026gt;\u0026gt; .bashrc ~$ source .bashrc # 4ï¼å‹•ä½œç¢ºèª ~$ go version go version go1.17.7 linux/amd64  ghqï¼ˆGitãƒªãƒã‚¸ãƒˆãƒªç®¡ç†ãƒ„ãƒ¼ãƒ«ï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  go install github.com/x-motemen/ghq@latest echo \u0026#34;PATH=$PATH:~/go/bin\u0026#34; \u0026gt;\u0026gt; .bashrc # dial tcp: lookup proxy.golang.org: no such host ã®ã‚¨ãƒ©ãƒ¼å‡ºãŸå ´åˆ go env -w GOPROXY=direct  AWS CLI 2ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  curl \u0026#34;\u0026lt;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026gt;\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; unzip awscliv2.zip sudo ./aws/install ~$ aws --version aws-cli/2.4.23 Python/3.8.8 Linux/5.10.60.1-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off  AWS Session Managerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«  curl \u0026#34;\u0026lt;https://s3.amazonaws.com/session-manager-downloads/plugin/latest/ubuntu_64bit/session-manager-plugin.deb\u0026gt;\u0026#34; -o \u0026#34;session-manager-plugin.deb\u0026#34; sudo dpkg -i session-manager-plugin.deb ~$ session-manager-plugin The Session Manager plugin was installed successfully. Use the AWS CLI to start a session. Proxyç’°å¢ƒä¸‹ã®é–¢é€£è¨­å®š zscalerã®å ´åˆ  Linuxã§è¨¼æ˜æ›¸å°å…¥  /usr/share/ca-certificates/ é…ä¸‹ã«ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ /usr/share/ca-certificates/zscaler/ é…ä¸‹ã«è¨¼æ˜æ›¸ã‚’é…ç½® /etc/ca-certificates.confã«/usr/share/ca-certificates/ ä»¥ä¸‹ã®ç›¸å¯¾ãƒ‘ã‚¹ã‚’è¿½åŠ  ï¼ˆã“ã“ã§ã¯zscaler/zscaler.cerï¼‰ /usr/sbin/update-ca-certificatesã‚’å®Ÿè¡Œ  aws  export AWS_CA_BUNDLE=~/zscaler_root.crt  git, conda, pip  ï¼‘ï¼æœ€æ–°ã®Pythonã®ä¿¡é ¼ã™ã‚‹è¨¼æ˜æ›¸ãƒªã‚¹ãƒˆã‚’å…¥æ‰‹ã™ã‚‹ã€‚\u0026lt;https://curl.haxx.se/ca/cacert.pemã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€‚\u0026gt; ï¼’ï¼ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ã«ã€ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã§ä¿å­˜ã—ãŸzscalerã®ã‚ªãƒ¬ã‚ªãƒ¬è¨¼æ˜æ›¸ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã€‚ ï¼“ï¼ä»¥ä¸‹ã®ãƒ‘ã‚¹ã«ä¿å­˜ã™ã‚‹# Windows%USERPROFILE%\\\\certs\\\\ca-bundle.crt ï¼”ï¼ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å®Ÿè¡Œã—ã€ä¿å­˜ã—ãŸè¨¼æ˜æ›¸ãƒªã‚¹ãƒˆã‚’ä½¿ã†ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚ pip config set global.cert %USERPROFILE%\\\\certs\\\\ca-bundle.crtconda config --set ssl_verify %USERPROFILE%\\\\certs\\\\ca-bundle.crtgit config --global http.sslVerify truegit config --global http.sslCAInfo path/to/ca-bundle.crt  DNS Resolver ã«8.8.8.8è¿½åŠ   #1. /etc/systemd/resolved.conf ã«ä»¥ä¸‹ã‚’è¿½åŠ  --------------- [Resolve] DNS=8.8.8.8 #2.å†èµ·å‹• systemctl restart systemd-resolved #3.DNSç¢ºèª systemd-resolve --status ","permalink":"https://ny1030.github.io/pages/posts/engineering/wsl2%E3%82%92%E5%85%A5%E3%82%8C%E3%81%9F%E5%BE%8C%E3%81%AB%E3%82%84%E3%82%8B%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA/","summary":"â€» OSã¯ Ubuntu 20.04(LTS) ã‚’ä½¿ç”¨\n ã¾ãšã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å¤‰æ›´ï¼ˆãƒŸãƒ‹ãƒãƒ«ãªå†…å®¹ã«ã™ã‚‹ï¼‰  #1.ã¾ãšã¯ç¾åœ¨ã®è¨­å®šç¢ºèª user@DESKTOP-XXXXX:~$ **echo $PS1** \\\\[\\\\e]0;\\\\u@\\\\h: \\\\w\\\\a\\\\]${debian_chroot:+($debian_chroot)}\\\\[\\\\033[01;32m\\\\]\\\\u@\\\\h\\\\[\\\\033[00m\\\\]:\\\\[\\\\033[01;34m\\\\]\\\\w\\\\[\\\\033[00m\\\\]\\\\$ #2.PS1ã®å€¤ã‚’æ›¸ãæ›ãˆ user@DESKTOP-XXXXX:~$ **PS1=\u0026#39;\\\\[\\\\e[1;32m\\\\]\\\\W\\\\$ \\\\[\\\\e[m\\\\]\u0026#39;** ~$ #3.è¨­å®šå†…å®¹ã‚’æ°¸ç¶šåŒ– ~$ **echo \u0026#34;PS1=\u0026#39;\\\\[\\\\e[1;32m\\\\]\\\\W\\\\$ \\\\[\\\\e[m\\\\]\u0026#39;\u0026#34; \u0026gt;\u0026gt; .bashrc** #4.ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¦ã€è¨­å®šãŒæ°¸ç¶šåŒ–ã•ã‚Œã¦ã‚‹ã“ã¨ç¢ºèª ~$  systemd ã‚’ PID1ï¼ˆè¦ªãƒ—ãƒ­ã‚»ã‚¹ï¼‰ã«ã™ã‚‹  #1.ç¾çŠ¶ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª ~$ ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.0 896 528 ? Sl 16:13 0:00 /init root 120 0.0 0.0 896 84 ? Ss 16:19 0:00 /init #2.","title":"WSL2ã‚’å…¥ã‚ŒãŸå¾Œã«ã‚„ã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º"},{"content":"ï¼‘ï¼ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆï¼’æ™‚é–“ãã‚‰ã„ï¼‰ Flutter ï¼‘ï¼SDKã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»è§£å‡\nInstall\nï¼’ï¼PATHè¨­å®š\nä»¥ä¸‹ã‚’PATHã«è¿½åŠ ï¼ˆãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åå‰ã¯é©å®œå¤‰æ›´ã™ã‚‹ï¼‰\n/Users/{username}/flutter/bin ï¼“ï¼ç¢ºèª\nä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹\nflutter Android ï¼‘ï¼Android Studioãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰â‡›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nInstall\nï¼’ï¼ç¢ºèª\nflutter doctor â€»æœ€åˆã¯ï¼•åˆ†ãã‚‰ã„æ™‚é–“ã‹ã‹ã‚‹\nã®çµæœã§Android StudioãŒãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯å…¥ã£ã¦ã‚‹ã®ã‚’ç¢ºèª ![[Pasted image 20220513215817.png]]\nï¼”ï¼Andoroid toolchainã®ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ\nãƒ»Command-Line Toolsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆAndoroidSDKã®è¨­å®šç”»é¢ã‹ã‚‰ã§ãã‚‹ï¼‰\n![[Pasted image 20220513215852.png]]\nãƒ»Andoroidãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®è¨±å¯\nflutter doctor --android-licenses â€» javaã®PATHé€šã£ã¦ãªã„ã¨ã‚¨ãƒ©ãƒ¼å‡ºã‚‹\nï¼•ï¼Android toolchainãŒãƒã‚§ãƒƒã‚¯ã¤ã„ã¦ã‚‹ã“ã¨ã‚’ç¢ºèª\nflutter doctor ![[Pasted image 20220513215916.png]]\nï¼–ï¼Flutterãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’Andoroid Studioã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![[Pasted image 20220513215944.png]]\nXCodeï¼ˆiOSï¼‰ ï¼‘ï¼XCodeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nï¼’ï¼Cocoapodã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nbrew install cocoapods brew link --overwrite cocoapods â€»ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ã¦ã„ã‚‹ç†ç”±ã¯ã‚¨ãƒ©ãƒ¼å›é¿ã—ã‚ˆã†ã¨ã—ãŸçµæœ\nï¼“ï¼XCodeã«ãƒã‚§ãƒƒã‚¯ãŒã¤ã„ã¦ã‚‹ã“ã¨ã‚’ç¢ºèª\nflutter doctor ![[Pasted image 20220513220013.png]]\nï¼’ï¼Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªå®Ÿè¡Œï¼ˆ30åˆ†ï¼‰ ï¼‘ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆ\n![[Pasted image 20220513220039.png]]\nï¼’ï¼ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ï¼ˆiOSï¼‰ã‚’å®Ÿè£…\n![[Pasted image 20220513220108.png]] ![[Pasted image 20220513220127.png]]\nï¼“ï¼ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ï¼ˆAndoroidï¼‰ã‚’å®Ÿè£… ![[Pasted image 20220513220156.png]] ![[Pasted image 20220513220209.png]]\nSystem Imageï¼šä½•ã§ã‚‚ã„ã„ã‚‰ã—ã„ã®ã§Pieã« ![[Pasted image 20220513220235.png]] ![[Pasted image 20220513220251.png]]\nï¼”ï¼ã‚¢ãƒ—ãƒªã®å®Ÿè¡Œ ![[Pasted image 20220513220307.png]] Androidï¼š ![[Pasted image 20220513220324.png]]\niOSï¼šåŒã˜è¦‹ãŸç›® ![[Pasted image 20220513220346.png]]\nAppendixï¼UIã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ« ï¼“âˆ’ï¼‘ï¼Flutter Studio\nWEBä¸Šã§ãƒ‡ã‚¶ã‚¤ãƒ³â‡›ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã§ãã‚‹ãŒã€\nãƒ»æ…£ã‚ŒãŒå¿…è¦ãã†ã€æ©Ÿèƒ½çš„ã«Figmaã«åŠ£ã£ã¦ãã†\nãƒ»ã‚³ãƒ¼ãƒ‰ã‚’å®Œå…¨ã«ã¯ä½¿ãˆãªã„ï¼ˆã‚¯ãƒ©ã‚¹åãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€æ§‹æ–‡ï¼ŸãŒé•ã†ï¼‰\nAppBuilder 2 20180529-19:35\nï¼“âˆ’ï¼’ï¼Figma to Flutter\nãƒ»ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚¤ãƒã‚¤ãƒ\nFigma to Flutter\nï¼“âˆ’ï¼“ï¼Adobe XD\nã“ã‚Œã¯ä½¿ã£ã¦ãªã„ãŒã€ä¸€ç•ªãƒã‚·ãªæ°—ãŒã™ã‚‹ã€‚ãŸã ã—æœ‰å„Ÿ\n","permalink":"https://ny1030.github.io/pages/posts/engineering/flutter-%E5%B0%8E%E5%85%A5%E3%81%BE%E3%81%A8%E3%82%81/","summary":"ï¼‘ï¼ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆï¼’æ™‚é–“ãã‚‰ã„ï¼‰ Flutter ï¼‘ï¼SDKã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»è§£å‡\nInstall\nï¼’ï¼PATHè¨­å®š\nä»¥ä¸‹ã‚’PATHã«è¿½åŠ ï¼ˆãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åå‰ã¯é©å®œå¤‰æ›´ã™ã‚‹ï¼‰\n/Users/{username}/flutter/bin ï¼“ï¼ç¢ºèª\nä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹\nflutter Android ï¼‘ï¼Android Studioãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰â‡›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nInstall\nï¼’ï¼ç¢ºèª\nflutter doctor â€»æœ€åˆã¯ï¼•åˆ†ãã‚‰ã„æ™‚é–“ã‹ã‹ã‚‹\nã®çµæœã§Android StudioãŒãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯å…¥ã£ã¦ã‚‹ã®ã‚’ç¢ºèª ![[Pasted image 20220513215817.png]]\nï¼”ï¼Andoroid toolchainã®ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ\nãƒ»Command-Line Toolsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆAndoroidSDKã®è¨­å®šç”»é¢ã‹ã‚‰ã§ãã‚‹ï¼‰\n![[Pasted image 20220513215852.png]]\nãƒ»Andoroidãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®è¨±å¯\nflutter doctor --android-licenses â€» javaã®PATHé€šã£ã¦ãªã„ã¨ã‚¨ãƒ©ãƒ¼å‡ºã‚‹\nï¼•ï¼Android toolchainãŒãƒã‚§ãƒƒã‚¯ã¤ã„ã¦ã‚‹ã“ã¨ã‚’ç¢ºèª\nflutter doctor ![[Pasted image 20220513215916.png]]\nï¼–ï¼Flutterãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’Andoroid Studioã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![[Pasted image 20220513215944.png]]\nXCodeï¼ˆiOSï¼‰ ï¼‘ï¼XCodeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nï¼’ï¼Cocoapodã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nbrew install cocoapods brew link --overwrite cocoapods â€»ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ã¦ã„ã‚‹ç†ç”±ã¯ã‚¨ãƒ©ãƒ¼å›é¿ã—ã‚ˆã†ã¨ã—ãŸçµæœ\nï¼“ï¼XCodeã«ãƒã‚§ãƒƒã‚¯ãŒã¤ã„ã¦ã‚‹ã“ã¨ã‚’ç¢ºèª\nflutter doctor ![[Pasted image 20220513220013.png]]\nï¼’ï¼Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªå®Ÿè¡Œï¼ˆ30åˆ†ï¼‰ ï¼‘ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆ\n![[Pasted image 20220513220039.png]]","title":"Flutter å°å…¥ã¾ã¨ã‚"}]