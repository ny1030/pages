---
date: 2022-08-22
title: Hugoで特定のファイルを公開しない方法
---

### はじめに
Hugo（静的サイトジェネレーター）でブログを書いてる際に、諸々の事情で公開したくないページが公開されてしまう事例があった。厳密にいうと、TOPページに出てくる記事の一覧からは見えないが、検索ボックスからそのページに含むキーワードを検索するとそのページが出てきてしまっていた。

### フォルダ構成の例
例として、Hugoの記事を格納しているフォルダ構成は以下の通り。
```
.
├── archetypes
└── content
     ├── posts
     │   └── engineering    <--- 公開したい記事
     ├── private.           <--- ディレクトリ単位で公開したくない記事（今回の対象）
     └── template.
            │
            └── template.md <--- ファイル単位で公開したくない記事（今回の対象）
```
今回は `content/private` のフォルダに入っている記事および `content/template/template.md` という**ファイル**を公開したくないので、その設定方法を考える。

### 設定方法
#### 方法1.  configファイルに指定
Hugoの設定ファイルである `config.yaml` に `ignoreFiles` ディレクティブを追加する。
※ 設定ファイルの形式が TOMLの場合は `config.toml` に読み換えてください。

```
ignoreFiles:
    - content/template/template\.md$ 
    - content/private/.*$
```

1つ目が `content/template/template.md` を公開しない設定でこれはほぼそのまま書けば良い。.（ドット）をエスケープ処理する必要があるため、\（バックスラッシュ）を入れている。
2つ目が`content/private`を公開しない設定であり、こちらは正規表現を使っている。ディレクトリ内のファイルを全て公開したくないので、 `.*` としている。

上記設定により、検索しても記事が出てこないことを確認。

